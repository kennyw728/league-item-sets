"use strict";angular.module("leagueItemSetsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/summoner/:summoner",{templateUrl:"views/summoner.html",controller:"SummonerCtrl",controllerAs:"summoner"}).when("/summoner",{templateUrl:"views/summoner.html",controller:"SummonerCtrl",controllerAs:"summoner"}).when("/champion/:id",{templateUrl:"views/champion.html",controller:"ChampionCtrl",controllerAs:"champion"}).otherwise({redirectTo:"/"})}]),angular.module("leagueItemSetsApp").service("RiotService",["$http","apiKey",function(a,b){var c="https://global.api.pvp.net/",d=b.GetKey(),e={Get:function(){return a.get(c+"api/lol/static-data/na/v1.2/champion?champData=image&"+d)},GetByID:function(b){return a.get(c+"api/lol/static-data/na/v1.2/champion/"+b+"?champData=all&"+d)}},f={GetByName:function(b){return a.get(c+"api/lol/na/v1.4/summoner/by-name/"+b+"?"+d)},GetByID:function(b){return a.get(c+"api/lol/na/v1.4/summoner/"+b+"?"+d)}},g={Get:function(){return a.get(c+"api/lol/static-data/na/v1.2/item?"+d)}},h={GetBySummonerID:function(b){return a.get(c+"api/lol/na/v2.2/matchhistory/"+b+"?"+d)}};return{Champions:e,Summoner:f,Items:g,MatchHistory:h}}]),angular.module("leagueItemSetsApp").service("apiKey",[function(){var a=function(){return"api_key=ab619bf9-31e0-4237-819b-9159a922bc94"};return{GetKey:a}}]),angular.module("leagueItemSetsApp").filter("orderObjectBy",function(){return function(a,b,c){var d=[];return angular.forEach(a,function(a){d.push(a)}),d.sort(function(a,c){return a[b]>c[b]?1:-1}),c&&d.reverse(),d}}),angular.module("leagueItemSetsApp").controller("MainCtrl",["$scope","RiotService",function(a,b){b.Champions.Get().then(function(b){a.champions=b.data.data}),a.filter=function(b){angular.forEach(a.champions,function(a,c){a.hide=!0,c.toLowerCase().indexOf(b)>-1&&(a.hide=!1)})}}]),angular.module("leagueItemSetsApp").controller("ChampionCtrl",["$scope","$routeParams","$location","RiotService",function(a,b,c,d){d.Champions.GetByID(b.id).then(function(b){a.selectedChamp=b.data})}]),angular.module("leagueItemSetsApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("leagueItemSetsApp").controller("SummonerCtrl",["$scope","$routeParams","RiotService",function(a,b,c){function d(b){c.MatchHistory.GetBySummonerID(b).then(function(b){a.matches=b.data.matches,angular.forEach(a.matches,function(b){angular.forEach(a.champions,function(a){b.participants[0].championId===a.id&&(b.participants[0].championDetail=a)});for(var c=[],d=0;7>d;d++){var e=b.participants[0].stats["item"+d];0!==e&&c.push(angular.copy(a.items[e]))}b.participants[0].items=c})})}c.Champions.Get().then(function(b){a.champions=b.data.data}),c.Items.Get().then(function(b){a.items=b.data.data}),void 0!==b.summoner&&(isNaN(b.summoner)?c.Summoner.GetByName(b.summoner).then(function(c){a.summoner=c.data[b.summoner],d(a.summoner.id)}):c.Summoner.GetByID(b.summoner).then(function(c){a.summoner=c.data[b.summoner],d(a.summoner.id)}))}]),angular.module("leagueItemSetsApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/champion.html",'<div class="row"> <div class="col-md-1"> <img class="champIcon" src="{{\'//ddragon.leagueoflegends.com/cdn/5.15.1/img/champion/\' + selectedChamp.image.full}}"> </div> <div> <span><h2>{{selectedChamp.name}}, {{selectedChamp.title}}</h2></span> </div> </div> <div> </div>'),a.put("views/contact.html","<p>Created by Kenny Wong.</p>"),a.put("views/main.html",'<form class="form-inline" style="text-align: center"> <div class="form-group"> <label>Filter</label> <input type="text" class="form-control" placeholder="Champion Name" ng-model="filterChampion" ng-keyup="filter(filterChampion)"> </div> </form> <hr> <div class="row"> <div class="col-md-1" ng-repeat="(championName, championDetail) in champions | orderObjectBy:\'name\'" ng-hide="championDetail.hide"> <a ng-href="#/champion/{{championDetail.id}}"><img class="champIcon" src="{{\'//ddragon.leagueoflegends.com/cdn/5.15.1/img/champion/\' + championDetail.image.full}}"></a> <div class="champTitle ellipsis">{{championDetail.name}}</div> </div> </div>'),a.put("views/summoner.html",'<form class="form-inline" style="text-align: center"> <div class="form-group"> <label>Search</label> <input type="text" class="form-control" placeholder="Enter a summoner" ng-model="newSummoner" ng-keyup="searchSummoner(newSummoner)"> </div> </form> <hr> <h2>{{summoner.name}}</h2> <img src="https://avatar.leagueoflegends.com/na/{{summoner.name}}.png"> <div class="row"> <div class="col-md-2" ng-repeat="match in matches" style="text-align: center"> <div class="well" ng-repeat="participant in match.participants"> <img class="champIcon" style="width: 75px; height: 75px" ng-src="{{\'//ddragon.leagueoflegends.com/cdn/5.15.1/img/champion/\' + participant.championDetail.image.full}}"> <div class="champTitle ellipsis">{{participant.championDetail.name}}</div> <div class="ellipsis" style="text-align: left" ng-repeat="item in participant.items"> <img style="width: 25px; height: 25px" ng-src="{{\'http://ddragon.leagueoflegends.com/cdn/5.15.1/img/item/\' + item.id + \'.png\'}}"> <span>{{item.name}}</span> </div> </div> </div> </div>')}]);